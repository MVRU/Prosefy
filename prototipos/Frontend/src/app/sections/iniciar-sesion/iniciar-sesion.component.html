<div class="container mt-5">
  <h2 class="text-center mb-4">Iniciar sesión</h2>
  <div class="row justify-content-center mb-5">
    <div class="col-12 col-md-6">
      <div class="separator"></div>
    </div>
  </div>
  <div class="login-container mb-5 pb-5">
    <form [formGroup]="loginGroup" (keydown.enter)="login()">
      <div class="form-group my-4">
        <label for="email">Correo Electrónico</label>
        <input type="text" id="email" class="form-control mx-auto mt-2" style="width: 80%"
          placeholder="Ingrese su correo electrónico" formControlName="email" />
        <div
          *ngIf="loginGroup.get('email')!.invalid && (loginGroup.get('email')!.dirty || loginGroup.get('email')!.touched)"
          class="text-danger">
          <div *ngIf="loginGroup.get('email')!.errors?.['required']">
            El correo electrónico es requerido
          </div>
          <div *ngIf="loginGroup.get('email')!.errors?.['email']">
            El correo electrónico debe ser válido
          </div>
        </div>
      </div>
      <div class="form-group my-4">
        <label for="password">Contraseña</label>
        <input type="password" id="password" class="form-control mx-auto mt-2" style="width: 80%"
          placeholder="Ingrese su contraseña" formControlName="password" />
        <div
          *ngIf="loginGroup.get('password')!.invalid && (loginGroup.get('password')!.dirty || loginGroup.get('password')!.touched)"
          class="text-danger">
          <div *ngIf="loginGroup.get('password')!.errors?.['required']">
            La contraseña es requerida
          </div>
        </div>
      </div>
      <!-- Mostrar mensajes de error  -->
      <div class="text-danger" *ngIf="loginError">
        {{ loginError }}
      </div>
      <a routerLink="" class="custom-a"> ¿Olvidaste tu contraseña? </a>
      <div class="button-group">
        <button type="button" class="btn btn-primary custom-btn-primary" (click)="login()">
          Acceder
        </button>
        <button routerLink="/crear-cuenta" type="button" class="btn btn-secondary custom-btn-secondary">
          Crear cuenta
        </button>
      </div>
      <!-- TODO: Crear página para olvidaste tu contraseña -->
    </form>
  </div>
  <!-- Modal Panel con Mensaje -->
  <div class="overlay" [ngClass]="{ active: isPopupOpen }"></div>
  <div class="modal" tabindex="-1" role="dialog" [ngClass]="{ 'd-block': isPopupOpen }">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header mx-5">
          <h4 class="modal-title text-center">Error al Iniciar Sesión</h4>
          <button type="button" class=" btn-close-white" (click)="closePopup()" aria-label="Close"></button>
        </div>
        <div class="modal-body mx-5 mt-2">
          <p>{{ modalMessage }}</p>
        </div>
      </div>
    </div>
  </div>
</div>